function cov_nmxx3alyg() {
  var path = "/home/dmirano/Developer/eAPD/web/src/redux/actions/editApd/uploadFile.js";
  var hash = "fbff5002f3dd8f4540660364b4d5d0a31eeae4c3";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/dmirano/Developer/eAPD/web/src/redux/actions/editApd/uploadFile.js",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 26
        },
        end: {
          line: 41,
          column: 1
        }
      },
      "1": {
        start: {
          line: 10,
          column: 34
        },
        end: {
          line: 41,
          column: 1
        }
      },
      "2": {
        start: {
          line: 11,
          column: 2
        },
        end: {
          line: 11,
          column: 42
        }
      },
      "3": {
        start: {
          line: 13,
          column: 16
        },
        end: {
          line: 13,
          column: 26
        }
      },
      "4": {
        start: {
          line: 14,
          column: 24
        },
        end: {
          line: 14,
          column: 44
        }
      },
      "5": {
        start: {
          line: 16,
          column: 17
        },
        end: {
          line: 16,
          column: 33
        }
      },
      "6": {
        start: {
          line: 18,
          column: 2
        },
        end: {
          line: 40,
          column: 5
        }
      },
      "7": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "8": {
        start: {
          line: 20,
          column: 6
        },
        end: {
          line: 34,
          column: 9
        }
      },
      "9": {
        start: {
          line: 21,
          column: 21
        },
        end: {
          line: 21,
          column: 35
        }
      },
      "10": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 55
        }
      },
      "11": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 33,
          column: 13
        }
      },
      "12": {
        start: {
          line: 27,
          column: 12
        },
        end: {
          line: 27,
          column: 71
        }
      },
      "13": {
        start: {
          line: 28,
          column: 12
        },
        end: {
          line: 28,
          column: 48
        }
      },
      "14": {
        start: {
          line: 31,
          column: 12
        },
        end: {
          line: 31,
          column: 52
        }
      },
      "15": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 32,
          column: 24
        }
      },
      "16": {
        start: {
          line: 36,
          column: 6
        },
        end: {
          line: 36,
          column: 37
        }
      },
      "17": {
        start: {
          line: 38,
          column: 6
        },
        end: {
          line: 38,
          column: 15
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 10,
            column: 26
          },
          end: {
            line: 10,
            column: 27
          }
        },
        loc: {
          start: {
            line: 10,
            column: 34
          },
          end: {
            line: 41,
            column: 1
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 10,
            column: 34
          },
          end: {
            line: 10,
            column: 35
          }
        },
        loc: {
          start: {
            line: 10,
            column: 64
          },
          end: {
            line: 41,
            column: 1
          }
        },
        line: 10
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 21
          },
          end: {
            line: 18,
            column: 22
          }
        },
        loc: {
          start: {
            line: 18,
            column: 42
          },
          end: {
            line: 40,
            column: 3
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 20,
            column: 38
          },
          end: {
            line: 20,
            column: 39
          }
        },
        loc: {
          start: {
            line: 20,
            column: 44
          },
          end: {
            line: 34,
            column: 7
          }
        },
        line: 20
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 26,
            column: 16
          },
          end: {
            line: 26,
            column: 17
          }
        },
        loc: {
          start: {
            line: 26,
            column: 23
          },
          end: {
            line: 29,
            column: 11
          }
        },
        line: 26
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 30,
            column: 17
          },
          end: {
            line: 30,
            column: 18
          }
        },
        loc: {
          start: {
            line: 30,
            column: 24
          },
          end: {
            line: 33,
            column: 11
          }
        },
        line: 30
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "fbff5002f3dd8f4540660364b4d5d0a31eeae4c3"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_nmxx3alyg = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_nmxx3alyg();
import { UPLOAD_FILE_FAILURE, UPLOAD_FILE_REQUEST, UPLOAD_FILE_SUCCESS } from './symbols';
import { selectApdData } from '../../../redux/selectors/apd.selectors';
import axios, { apiUrl } from '../../../util/api';
cov_nmxx3alyg().s[0]++;
export const uploadFile = file => {
  cov_nmxx3alyg().f[0]++;
  cov_nmxx3alyg().s[1]++;
  return async (dispatch, getState) => {
    cov_nmxx3alyg().f[1]++;
    cov_nmxx3alyg().s[2]++;
    dispatch({
      type: UPLOAD_FILE_REQUEST
    });
    const state = (cov_nmxx3alyg().s[3]++, getState());
    const {
      id: apdID
    } = (cov_nmxx3alyg().s[4]++, selectApdData(state));
    const reader = (cov_nmxx3alyg().s[5]++, new FileReader());
    cov_nmxx3alyg().s[6]++;
    return new Promise((resolve, reject) => {
      cov_nmxx3alyg().f[2]++;
      cov_nmxx3alyg().s[7]++;

      try {
        cov_nmxx3alyg().s[8]++;
        reader.addEventListener('load', () => {
          cov_nmxx3alyg().f[3]++;
          const form = (cov_nmxx3alyg().s[9]++, new FormData());
          cov_nmxx3alyg().s[10]++;
          form.append('file', new Blob([reader.result]));
          cov_nmxx3alyg().s[11]++;
          return axios.post(`/apds/${apdID}/files`, form).then(req => {
            cov_nmxx3alyg().f[4]++;
            cov_nmxx3alyg().s[12]++;
            dispatch({
              type: UPLOAD_FILE_SUCCESS,
              url: req.data.url
            });
            cov_nmxx3alyg().s[13]++;
            resolve(`${apiUrl}${req.data.url}`);
          }).catch(err => {
            cov_nmxx3alyg().f[5]++;
            cov_nmxx3alyg().s[14]++;
            dispatch({
              type: UPLOAD_FILE_FAILURE
            });
            cov_nmxx3alyg().s[15]++;
            reject(err);
          });
        });
        cov_nmxx3alyg().s[16]++;
        reader.readAsArrayBuffer(file);
      } catch (err) {
        cov_nmxx3alyg().s[17]++;
        reject();
      }
    });
  };
};
export default uploadFile;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVUExPQURfRklMRV9GQUlMVVJFIiwiVVBMT0FEX0ZJTEVfUkVRVUVTVCIsIlVQTE9BRF9GSUxFX1NVQ0NFU1MiLCJzZWxlY3RBcGREYXRhIiwiYXhpb3MiLCJhcGlVcmwiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsImRpc3BhdGNoIiwiZ2V0U3RhdGUiLCJ0eXBlIiwic3RhdGUiLCJpZCIsImFwZElEIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm0iLCJGb3JtRGF0YSIsImFwcGVuZCIsIkJsb2IiLCJyZXN1bHQiLCJwb3N0IiwidGhlbiIsInJlcSIsInVybCIsImRhdGEiLCJjYXRjaCIsImVyciIsInJlYWRBc0FycmF5QnVmZmVyIl0sInNvdXJjZXMiOlsidXBsb2FkRmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBVUExPQURfRklMRV9GQUlMVVJFLFxuICBVUExPQURfRklMRV9SRVFVRVNULFxuICBVUExPQURfRklMRV9TVUNDRVNTXG59IGZyb20gJy4vc3ltYm9scyc7XG5cbmltcG9ydCB7IHNlbGVjdEFwZERhdGEgfSBmcm9tICcuLi8uLi8uLi9yZWR1eC9zZWxlY3RvcnMvYXBkLnNlbGVjdG9ycyc7XG5pbXBvcnQgYXhpb3MsIHsgYXBpVXJsIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9hcGknO1xuXG5leHBvcnQgY29uc3QgdXBsb2FkRmlsZSA9IGZpbGUgPT4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICBkaXNwYXRjaCh7IHR5cGU6IFVQTE9BRF9GSUxFX1JFUVVFU1QgfSk7XG5cbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBjb25zdCB7IGlkOiBhcGRJRCB9ID0gc2VsZWN0QXBkRGF0YShzdGF0ZSk7XG5cbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIG5ldyBCbG9iKFtyZWFkZXIucmVzdWx0XSkpO1xuXG4gICAgICAgIHJldHVybiBheGlvc1xuICAgICAgICAgIC5wb3N0KGAvYXBkcy8ke2FwZElEfS9maWxlc2AsIGZvcm0pXG4gICAgICAgICAgLnRoZW4ocmVxID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogVVBMT0FEX0ZJTEVfU1VDQ0VTUywgdXJsOiByZXEuZGF0YS51cmwgfSk7XG4gICAgICAgICAgICByZXNvbHZlKGAke2FwaVVybH0ke3JlcS5kYXRhLnVybH1gKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBVUExPQURfRklMRV9GQUlMVVJFIH0pO1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZEZpbGU7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTs7Ozs7Ozs7O0FBZlosU0FDRUEsbUJBREYsRUFFRUMsbUJBRkYsRUFHRUMsbUJBSEYsUUFJTyxXQUpQO0FBTUEsU0FBU0MsYUFBVCxRQUE4Qix3Q0FBOUI7QUFDQSxPQUFPQyxLQUFQLElBQWdCQyxNQUFoQixRQUE4QixtQkFBOUI7O0FBRUEsT0FBTyxNQUFNQyxVQUFVLEdBQUdDLElBQUksSUFBSTtFQUFBO0VBQUE7RUFBQSxjQUFPQyxRQUFQLEVBQWlCQyxRQUFqQixLQUE4QjtJQUFBO0lBQUE7SUFDOURELFFBQVEsQ0FBQztNQUFFRSxJQUFJLEVBQUVUO0lBQVIsQ0FBRCxDQUFSO0lBRUEsTUFBTVUsS0FBSyw0QkFBR0YsUUFBUSxFQUFYLENBQVg7SUFDQSxNQUFNO01BQUVHLEVBQUUsRUFBRUM7SUFBTiw2QkFBZ0JWLGFBQWEsQ0FBQ1EsS0FBRCxDQUE3QixDQUFOO0lBRUEsTUFBTUcsTUFBTSw0QkFBRyxJQUFJQyxVQUFKLEVBQUgsQ0FBWjtJQU44RDtJQVE5RCxPQUFPLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7TUFBQTtNQUFBOztNQUN0QyxJQUFJO1FBQUE7UUFDRkosTUFBTSxDQUFDSyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxNQUFNO1VBQUE7VUFDcEMsTUFBTUMsSUFBSSw0QkFBRyxJQUFJQyxRQUFKLEVBQUgsQ0FBVjtVQURvQztVQUVwQ0QsSUFBSSxDQUFDRSxNQUFMLENBQVksTUFBWixFQUFvQixJQUFJQyxJQUFKLENBQVMsQ0FBQ1QsTUFBTSxDQUFDVSxNQUFSLENBQVQsQ0FBcEI7VUFGb0M7VUFJcEMsT0FBT3BCLEtBQUssQ0FDVHFCLElBREksQ0FDRSxTQUFRWixLQUFNLFFBRGhCLEVBQ3lCTyxJQUR6QixFQUVKTSxJQUZJLENBRUNDLEdBQUcsSUFBSTtZQUFBO1lBQUE7WUFDWG5CLFFBQVEsQ0FBQztjQUFFRSxJQUFJLEVBQUVSLG1CQUFSO2NBQTZCMEIsR0FBRyxFQUFFRCxHQUFHLENBQUNFLElBQUosQ0FBU0Q7WUFBM0MsQ0FBRCxDQUFSO1lBRFc7WUFFWFgsT0FBTyxDQUFFLEdBQUVaLE1BQU8sR0FBRXNCLEdBQUcsQ0FBQ0UsSUFBSixDQUFTRCxHQUFJLEVBQTFCLENBQVA7VUFDRCxDQUxJLEVBTUpFLEtBTkksQ0FNRUMsR0FBRyxJQUFJO1lBQUE7WUFBQTtZQUNadkIsUUFBUSxDQUFDO2NBQUVFLElBQUksRUFBRVY7WUFBUixDQUFELENBQVI7WUFEWTtZQUVaa0IsTUFBTSxDQUFDYSxHQUFELENBQU47VUFDRCxDQVRJLENBQVA7UUFVRCxDQWREO1FBREU7UUFpQkZqQixNQUFNLENBQUNrQixpQkFBUCxDQUF5QnpCLElBQXpCO01BQ0QsQ0FsQkQsQ0FrQkUsT0FBT3dCLEdBQVAsRUFBWTtRQUFBO1FBQ1piLE1BQU07TUFDUDtJQUNGLENBdEJNLENBQVA7RUF1QkQsQ0EvQmlDO0FBK0JqQyxDQS9CTTtBQWlDUCxlQUFlWixVQUFmIn0=