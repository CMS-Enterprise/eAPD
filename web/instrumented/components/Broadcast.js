function cov_1x5rkvjps8() {
  var path = "/home/dmirano/Developer/eAPD/web/src/components/Broadcast.js";
  var hash = "a0cb06dd2f891d1521d73add743581ffd1f39fe4";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/dmirano/Developer/eAPD/web/src/components/Broadcast.js",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 14
        },
        end: {
          line: 3,
          column: 18
        }
      },
      "1": {
        start: {
          line: 4,
          column: 17
        },
        end: {
          line: 4,
          column: 19
        }
      },
      "2": {
        start: {
          line: 6,
          column: 20
        },
        end: {
          line: 10,
          column: 1
        }
      },
      "3": {
        start: {
          line: 7,
          column: 2
        },
        end: {
          line: 9,
          column: 3
        }
      },
      "4": {
        start: {
          line: 8,
          column: 4
        },
        end: {
          line: 8,
          column: 29
        }
      },
      "5": {
        start: {
          line: 12,
          column: 18
        },
        end: {
          line: 16,
          column: 1
        }
      },
      "6": {
        start: {
          line: 13,
          column: 2
        },
        end: {
          line: 15,
          column: 3
        }
      },
      "7": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 14,
          column: 22
        }
      },
      "8": {
        start: {
          line: 18,
          column: 20
        },
        end: {
          line: 23,
          column: 1
        }
      },
      "9": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 36
        }
      },
      "10": {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 22,
          column: 3
        }
      },
      "11": {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 21,
          column: 30
        }
      },
      "12": {
        start: {
          line: 25,
          column: 18
        },
        end: {
          line: 47,
          column: 1
        }
      },
      "13": {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 44,
          column: 5
        }
      },
      "14": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 42,
          column: 18
        }
      },
      "15": {
        start: {
          line: 28,
          column: 6
        },
        end: {
          line: 41,
          column: 7
        }
      },
      "16": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 56
        }
      },
      "17": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 36,
          column: 10
        }
      },
      "18": {
        start: {
          line: 31,
          column: 10
        },
        end: {
          line: 35,
          column: 11
        }
      },
      "19": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 34,
          column: 15
        }
      },
      "20": {
        start: {
          line: 33,
          column: 14
        },
        end: {
          line: 33,
          column: 22
        }
      },
      "21": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 40,
          column: 10
        }
      },
      "22": {
        start: {
          line: 38,
          column: 10
        },
        end: {
          line: 38,
          column: 26
        }
      },
      "23": {
        start: {
          line: 39,
          column: 10
        },
        end: {
          line: 39,
          column: 25
        }
      },
      "24": {
        start: {
          line: 43,
          column: 4
        },
        end: {
          line: 43,
          column: 20
        }
      },
      "25": {
        start: {
          line: 46,
          column: 2
        },
        end: {
          line: 46,
          column: 14
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 6,
            column: 20
          },
          end: {
            line: 6,
            column: 21
          }
        },
        loc: {
          start: {
            line: 6,
            column: 27
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 18
          },
          end: {
            line: 12,
            column: 19
          }
        },
        loc: {
          start: {
            line: 12,
            column: 24
          },
          end: {
            line: 16,
            column: 1
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 20
          },
          end: {
            line: 18,
            column: 21
          }
        },
        loc: {
          start: {
            line: 18,
            column: 26
          },
          end: {
            line: 23,
            column: 1
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 25,
            column: 18
          },
          end: {
            line: 25,
            column: 19
          }
        },
        loc: {
          start: {
            line: 25,
            column: 24
          },
          end: {
            line: 47,
            column: 1
          }
        },
        line: 25
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 26,
            column: 12
          },
          end: {
            line: 26,
            column: 13
          }
        },
        loc: {
          start: {
            line: 26,
            column: 18
          },
          end: {
            line: 44,
            column: 3
          }
        },
        line: 26
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 30,
            column: 28
          },
          end: {
            line: 30,
            column: 29
          }
        },
        loc: {
          start: {
            line: 30,
            column: 53
          },
          end: {
            line: 36,
            column: 9
          }
        },
        line: 30
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 32,
            column: 29
          },
          end: {
            line: 32,
            column: 30
          }
        },
        loc: {
          start: {
            line: 32,
            column: 34
          },
          end: {
            line: 34,
            column: 13
          }
        },
        line: 32
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 37,
            column: 15
          },
          end: {
            line: 37,
            column: 16
          }
        },
        loc: {
          start: {
            line: 37,
            column: 21
          },
          end: {
            line: 40,
            column: 9
          }
        },
        line: 37
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 43,
            column: 11
          },
          end: {
            line: 43,
            column: 12
          }
        },
        loc: {
          start: {
            line: 43,
            column: 17
          },
          end: {
            line: 43,
            column: 19
          }
        },
        line: 43
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 9,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 9,
            column: 3
          }
        }, {
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 9,
            column: 3
          }
        }],
        line: 7
      },
      "1": {
        loc: {
          start: {
            line: 13,
            column: 2
          },
          end: {
            line: 15,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 13,
            column: 2
          },
          end: {
            line: 15,
            column: 3
          }
        }, {
          start: {
            line: 13,
            column: 2
          },
          end: {
            line: 15,
            column: 3
          }
        }],
        line: 13
      },
      "2": {
        loc: {
          start: {
            line: 20,
            column: 2
          },
          end: {
            line: 22,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 20,
            column: 2
          },
          end: {
            line: 22,
            column: 3
          }
        }, {
          start: {
            line: 20,
            column: 2
          },
          end: {
            line: 22,
            column: 3
          }
        }],
        line: 20
      },
      "3": {
        loc: {
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 41,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 41,
            column: 7
          }
        }, {
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 41,
            column: 7
          }
        }],
        line: 28
      },
      "4": {
        loc: {
          start: {
            line: 31,
            column: 10
          },
          end: {
            line: 35,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 10
          },
          end: {
            line: 35,
            column: 11
          }
        }, {
          start: {
            line: 31,
            column: 10
          },
          end: {
            line: 35,
            column: 11
          }
        }],
        line: 31
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a0cb06dd2f891d1521d73add743581ffd1f39fe4"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1x5rkvjps8 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_1x5rkvjps8();
import { useEffect } from 'react';
let channel = (cov_1x5rkvjps8().s[0]++, null);
const handlers = (cov_1x5rkvjps8().s[1]++, []);
cov_1x5rkvjps8().s[2]++;

const postMessage = msg => {
  cov_1x5rkvjps8().f[0]++;
  cov_1x5rkvjps8().s[3]++;

  if (channel) {
    cov_1x5rkvjps8().b[0][0]++;
    cov_1x5rkvjps8().s[4]++;
    channel.postMessage(msg);
  } else {
    cov_1x5rkvjps8().b[0][1]++;
  }
};

cov_1x5rkvjps8().s[5]++;

const subscribe = fn => {
  cov_1x5rkvjps8().f[1]++;
  cov_1x5rkvjps8().s[6]++;

  if (handlers.indexOf(fn) < 0) {
    cov_1x5rkvjps8().b[1][0]++;
    cov_1x5rkvjps8().s[7]++;
    handlers.push(fn);
  } else {
    cov_1x5rkvjps8().b[1][1]++;
  }
};

cov_1x5rkvjps8().s[8]++;

const unsubscribe = fn => {
  cov_1x5rkvjps8().f[2]++;
  const index = (cov_1x5rkvjps8().s[9]++, handlers.indexOf(fn));
  cov_1x5rkvjps8().s[10]++;

  if (index >= 0) {
    cov_1x5rkvjps8().b[2][0]++;
    cov_1x5rkvjps8().s[11]++;
    handlers.splice(index, 1);
  } else {
    cov_1x5rkvjps8().b[2][1]++;
  }
};

cov_1x5rkvjps8().s[12]++;

const Broadcast = () => {
  cov_1x5rkvjps8().f[3]++;
  cov_1x5rkvjps8().s[13]++;
  useEffect(() => {
    cov_1x5rkvjps8().f[4]++;
    cov_1x5rkvjps8().s[14]++;

    try {
      cov_1x5rkvjps8().s[15]++;

      if (window.BroadcastChannel) {
        cov_1x5rkvjps8().b[3][0]++;
        cov_1x5rkvjps8().s[16]++;
        channel = new BroadcastChannel('eapd_activity');
        cov_1x5rkvjps8().s[17]++;

        channel.onmessage = ({
          isTrusted,
          data
        }) => {
          cov_1x5rkvjps8().f[5]++;
          cov_1x5rkvjps8().s[18]++;

          if (isTrusted) {
            cov_1x5rkvjps8().b[4][0]++;
            cov_1x5rkvjps8().s[19]++;
            handlers.forEach(h => {
              cov_1x5rkvjps8().f[6]++;
              cov_1x5rkvjps8().s[20]++;
              h(data);
            });
          } else {
            cov_1x5rkvjps8().b[4][1]++;
          }
        };

        cov_1x5rkvjps8().s[21]++;
        return () => {
          cov_1x5rkvjps8().f[7]++;
          cov_1x5rkvjps8().s[22]++;
          channel.close();
          cov_1x5rkvjps8().s[23]++;
          channel = null;
        };
      } else {
        cov_1x5rkvjps8().b[3][1]++;
      }
    } catch (e) {} // eslint-disable-line no-empty


    cov_1x5rkvjps8().s[24]++;
    return () => {
      cov_1x5rkvjps8().f[8]++;
    };
  });
  cov_1x5rkvjps8().s[25]++;
  return null;
};

export default Broadcast;
export { postMessage, subscribe, unsubscribe };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJjaGFubmVsIiwiaGFuZGxlcnMiLCJwb3N0TWVzc2FnZSIsIm1zZyIsInN1YnNjcmliZSIsImZuIiwiaW5kZXhPZiIsInB1c2giLCJ1bnN1YnNjcmliZSIsImluZGV4Iiwic3BsaWNlIiwiQnJvYWRjYXN0Iiwid2luZG93IiwiQnJvYWRjYXN0Q2hhbm5lbCIsIm9ubWVzc2FnZSIsImlzVHJ1c3RlZCIsImRhdGEiLCJmb3JFYWNoIiwiaCIsImNsb3NlIiwiZSJdLCJzb3VyY2VzIjpbIkJyb2FkY2FzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmxldCBjaGFubmVsID0gbnVsbDtcbmNvbnN0IGhhbmRsZXJzID0gW107XG5cbmNvbnN0IHBvc3RNZXNzYWdlID0gbXNnID0+IHtcbiAgaWYgKGNoYW5uZWwpIHtcbiAgICBjaGFubmVsLnBvc3RNZXNzYWdlKG1zZyk7XG4gIH1cbn07XG5cbmNvbnN0IHN1YnNjcmliZSA9IGZuID0+IHtcbiAgaWYgKGhhbmRsZXJzLmluZGV4T2YoZm4pIDwgMCkge1xuICAgIGhhbmRsZXJzLnB1c2goZm4pO1xuICB9XG59O1xuXG5jb25zdCB1bnN1YnNjcmliZSA9IGZuID0+IHtcbiAgY29uc3QgaW5kZXggPSBoYW5kbGVycy5pbmRleE9mKGZuKTtcbiAgaWYgKGluZGV4ID49IDApIHtcbiAgICBoYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59O1xuXG5jb25zdCBCcm9hZGNhc3QgPSAoKSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh3aW5kb3cuQnJvYWRjYXN0Q2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoJ2VhcGRfYWN0aXZpdHknKTtcbiAgICAgICAgY2hhbm5lbC5vbm1lc3NhZ2UgPSAoeyBpc1RydXN0ZWQsIGRhdGEgfSkgPT4ge1xuICAgICAgICAgIGlmIChpc1RydXN0ZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzLmZvckVhY2goaCA9PiB7XG4gICAgICAgICAgICAgIGgoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgY2hhbm5lbC5jbG9zZSgpO1xuICAgICAgICAgIGNoYW5uZWwgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbiAgICByZXR1cm4gKCkgPT4ge307XG4gIH0pO1xuXG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnJvYWRjYXN0O1xuXG5leHBvcnQgeyBwb3N0TWVzc2FnZSwgc3Vic2NyaWJlLCB1bnN1YnNjcmliZSB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTs7Ozs7Ozs7O0FBZlosU0FBU0EsU0FBVCxRQUEwQixPQUExQjtBQUVBLElBQUlDLE9BQU8sNkJBQUcsSUFBSCxDQUFYO0FBQ0EsTUFBTUMsUUFBUSw2QkFBRyxFQUFILENBQWQ7OztBQUVBLE1BQU1DLFdBQVcsR0FBR0MsR0FBRyxJQUFJO0VBQUE7RUFBQTs7RUFDekIsSUFBSUgsT0FBSixFQUFhO0lBQUE7SUFBQTtJQUNYQSxPQUFPLENBQUNFLFdBQVIsQ0FBb0JDLEdBQXBCO0VBQ0QsQ0FGRDtJQUFBO0VBQUE7QUFHRCxDQUpEOzs7O0FBTUEsTUFBTUMsU0FBUyxHQUFHQyxFQUFFLElBQUk7RUFBQTtFQUFBOztFQUN0QixJQUFJSixRQUFRLENBQUNLLE9BQVQsQ0FBaUJELEVBQWpCLElBQXVCLENBQTNCLEVBQThCO0lBQUE7SUFBQTtJQUM1QkosUUFBUSxDQUFDTSxJQUFULENBQWNGLEVBQWQ7RUFDRCxDQUZEO0lBQUE7RUFBQTtBQUdELENBSkQ7Ozs7QUFNQSxNQUFNRyxXQUFXLEdBQUdILEVBQUUsSUFBSTtFQUFBO0VBQ3hCLE1BQU1JLEtBQUssNkJBQUdSLFFBQVEsQ0FBQ0ssT0FBVCxDQUFpQkQsRUFBakIsQ0FBSCxDQUFYO0VBRHdCOztFQUV4QixJQUFJSSxLQUFLLElBQUksQ0FBYixFQUFnQjtJQUFBO0lBQUE7SUFDZFIsUUFBUSxDQUFDUyxNQUFULENBQWdCRCxLQUFoQixFQUF1QixDQUF2QjtFQUNELENBRkQ7SUFBQTtFQUFBO0FBR0QsQ0FMRDs7OztBQU9BLE1BQU1FLFNBQVMsR0FBRyxNQUFNO0VBQUE7RUFBQTtFQUN0QlosU0FBUyxDQUFDLE1BQU07SUFBQTtJQUFBOztJQUNkLElBQUk7TUFBQTs7TUFDRixJQUFJYSxNQUFNLENBQUNDLGdCQUFYLEVBQTZCO1FBQUE7UUFBQTtRQUMzQmIsT0FBTyxHQUFHLElBQUlhLGdCQUFKLENBQXFCLGVBQXJCLENBQVY7UUFEMkI7O1FBRTNCYixPQUFPLENBQUNjLFNBQVIsR0FBb0IsQ0FBQztVQUFFQyxTQUFGO1VBQWFDO1FBQWIsQ0FBRCxLQUF5QjtVQUFBO1VBQUE7O1VBQzNDLElBQUlELFNBQUosRUFBZTtZQUFBO1lBQUE7WUFDYmQsUUFBUSxDQUFDZ0IsT0FBVCxDQUFpQkMsQ0FBQyxJQUFJO2NBQUE7Y0FBQTtjQUNwQkEsQ0FBQyxDQUFDRixJQUFELENBQUQ7WUFDRCxDQUZEO1VBR0QsQ0FKRDtZQUFBO1VBQUE7UUFLRCxDQU5EOztRQUYyQjtRQVMzQixPQUFPLE1BQU07VUFBQTtVQUFBO1VBQ1hoQixPQUFPLENBQUNtQixLQUFSO1VBRFc7VUFFWG5CLE9BQU8sR0FBRyxJQUFWO1FBQ0QsQ0FIRDtNQUlELENBYkQ7UUFBQTtNQUFBO0lBY0QsQ0FmRCxDQWVFLE9BQU9vQixDQUFQLEVBQVUsQ0FBRSxDQWhCQSxDQWdCQzs7O0lBaEJEO0lBaUJkLE9BQU8sTUFBTTtNQUFBO0lBQUUsQ0FBZjtFQUNELENBbEJRLENBQVQ7RUFEc0I7RUFxQnRCLE9BQU8sSUFBUDtBQUNELENBdEJEOztBQXdCQSxlQUFlVCxTQUFmO0FBRUEsU0FBU1QsV0FBVCxFQUFzQkUsU0FBdEIsRUFBaUNJLFdBQWpDIn0=